parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qrr2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCleanBoard=void 0;var e=require("../main"),r=function(){for(var r=[],o=0;o<e.rows;o++){r.push([]);for(var a=0;a<e.cols;a++)r[o].push(0)}return r};exports.createCleanBoard=r;
},{"../main":"KIzB"}],"scz1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addNewTile=void 0;var e=require("../main"),r=function(r,a,t){e.trs[a][t].classList.add("field-cell--".concat(r)),e.trs[a][t].innerText="".concat(r),e.board[a][t]="".concat(r)},a=function(a,t){var o=Math.random()<.1?4:2;e.letVariables.emptyCells--,r(o,a,t)},t=function(){for(;e.letVariables.emptyCells>=1;)for(var r=Math.floor(Math.random()*e.rows);e.board[r].includes(0);){var t=Math.floor(Math.random()*e.cols);if(0===e.board[r][t])return a(r,t)}};exports.addNewTile=t;
},{"../main":"KIzB"}],"MSD8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.afterMove=exports.resetBeforeMove=void 0;var e=require("../main"),r=require("../helpers/addNewTile");function t(e){return i(e)||a(e)||n(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,r){if(e){if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}function a(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function i(e){if(Array.isArray(e))return l(e)}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var s=function(){e.letVariables.moves=0,e.letVariables.dontAddCells.map(function(e){return e.classList.remove("notAdd")})};exports.resetBeforeMove=s;var u=function(){e.letVariables.moves>0&&((0,r.addNewTile)(),e.letVariables.dontAddCells=t(document.querySelectorAll(".notAdd")))};exports.afterMove=u;
},{"../main":"KIzB","../helpers/addNewTile":"scz1"}],"b9rG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkLose=void 0;var e=require("../main"),r=function(){if(!e.board.some(function(e){return e.includes(0)})){if(e.board.some(function(e){for(var r=1;r<e.length;r++)if(e[r]===e[r-1])return!0}))return;for(var r=0;r<e.board[0].length;r++)for(var o=1;o<e.board.length;o++)if(e.board[o][r]===e.board[o-1][r])return;e.table.style.opacity=.5,e.messageStart.classList.add("hidden"),e.messageLose.classList.remove("hidden")}};exports.checkLose=r;
},{"../main":"KIzB"}],"uJmt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveCell=void 0;var e=require("../main"),s=function(s,r,t,a,l){var i=a?e.trs[s][r]:e.trs[r][s],n=a?e.trs[s][t]:e.trs[t][s],o=i.innerText,c=""+2*Number(o);a?(e.board[s][r]=0,e.board[s][t]=l?c:o):(e.board[r][s]=0,e.board[t][s]=l?c:o),l&&(n.classList.remove("field-cell--".concat(o)),n.classList.add("notAdd"),e.letVariables.emptyCells++,e.score.innerText=Number(e.score.innerText)+Number(c)),n.classList.add("field-cell--".concat(l?c:o)),n.innerText="".concat(l?c:o),i.classList.remove("field-cell--".concat(o)),i.innerText="",e.letVariables.moves++,"2048"===n.innerText&&(e.messageStart.classList.add("hidden"),e.messageWin.classList.remove("hidden"))};exports.moveCell=s;
},{"../main":"KIzB"}],"Loc7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeMoveBy=void 0;var e=require("./moveCell"),r=require("../main"),t=function(t,o){switch(!0){case t&&o:for(var a=0;a<=r.quantityRows;a++)for(var s=0;s<=r.quantityCols;s++)if(0!==r.board[a][s]&&0!==s)for(var i=s-1;i>=0;i--){if(""!==r.trs[a][i].innerText){if(r.trs[a][i].innerText===r.trs[a][s].innerText&&!r.trs[a][i].classList.notAdd){(0,e.moveCell)(a,s,i,!0,!0);break}s!==i+1&&(0,e.moveCell)(a,s,i+1,!0,!1);break}0===i&&(0,e.moveCell)(a,s,i,!0,!1)}break;case t&&!o:for(var n=0;n<=r.quantityRows;n++)for(var l=r.quantityCols;l>=0;l--)if(0!==r.board[n][l]&&l!==r.quantityCols)for(var v=l+1;v<=r.quantityCols;v++){if(""!==r.trs[n][v].innerText){if(r.trs[n][v].innerText===r.trs[n][l].innerText&&!r.trs[n][v].classList.notAdd){(0,e.moveCell)(n,l,v,!0,!0);break}l!==v-1&&(0,e.moveCell)(n,l,v-1,!0,!1);break}v===r.quantityCols&&(0,e.moveCell)(n,l,v,!0,!1)}break;case!t&&o:for(var f=0;f<=r.quantityCols;f++)for(var u=0;u<=r.quantityRows;u++)if(0!==r.board[u][f]&&0!==u)for(var C=u-1;C>=0;C--){if(""!==r.trs[C][f].innerText){if(r.trs[C][f].innerText===r.trs[u][f].innerText&&!r.trs[C][f].classList.notAdd){(0,e.moveCell)(f,u,C,!1,!0);break}u!==C+1&&(0,e.moveCell)(f,u,C+1,!1,!1);break}0===C&&(0,e.moveCell)(f,u,C,!1,!1)}break;case!t&&!o:for(var b=0;b<=r.quantityCols;b++)for(var m=r.quantityRows;m>=0;m--)if(0!==r.board[m][b]&&m!==r.quantityRows)for(var y=m+1;y<=r.quantityRows;y++){if(""!==r.trs[y][b].innerText){if(r.trs[y][b].innerText===r.trs[m][b].innerText&&!r.trs[y][b].classList.notAdd){(0,e.moveCell)(b,m,y,!1,!0);break}m!==y-1&&(0,e.moveCell)(b,m,y-1,!1,!1);break}y===r.quantityRows&&(0,e.moveCell)(b,m,y,!1,!1)}break;default:console.log("Some problem with counting...")}};exports.makeMoveBy=t;
},{"./moveCell":"uJmt","../main":"KIzB"}],"gPPn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveLeft=t,exports.moveRight=v,exports.moveDown=s,exports.moveUp=c;var e=require("./beforeAfterMove"),o=require("./checkLose"),r=require("./makeMoveBy");function t(){(0,e.resetBeforeMove)(),(0,r.makeMoveBy)(!0,!0),(0,e.afterMove)(),(0,o.checkLose)()}function v(){(0,e.resetBeforeMove)(),(0,r.makeMoveBy)(!0,!1),(0,e.afterMove)(),(0,o.checkLose)()}function s(){(0,e.resetBeforeMove)(),(0,r.makeMoveBy)(!1,!1),(0,e.afterMove)(),(0,o.checkLose)()}function c(){(0,e.resetBeforeMove)(),(0,r.makeMoveBy)(!1,!0),(0,e.afterMove)(),(0,o.checkLose)()}
},{"./beforeAfterMove":"MSD8","./checkLose":"b9rG","./makeMoveBy":"Loc7"}],"PT3Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleTouchStart=u,exports.handleTouchMove=l;var e=require("./moves"),t=null,o=null;function n(e){return e.touches||e.originalEvent.touches}function u(e){var u=n(e)[0];t=u.clientX,o=u.clientY}function l(n){if(t&&o){var u=n.touches[0].clientX,l=n.touches[0].clientY,c=t-u,r=o-l;Math.abs(c)>Math.abs(r)?c>0?(0,e.moveRight)():(0,e.moveLeft)():r>0?(0,e.moveDown)():(0,e.moveUp)(),t=null,o=null}}
},{"./moves":"gPPn"}],"KIzB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trs=exports.table=exports.messageStart=exports.messageWin=exports.messageLose=exports.score=exports.letVariables=exports.board=exports.quantityCols=exports.quantityRows=exports.cols=exports.rows=void 0;var e=require("./helpers/createCleanBoard"),r=require("./helpers/addNewTile"),t=require("./helpers/moves"),o=require("./helpers/touchHelpers");function s(e){return c(e)||i(e)||n(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}var l=4;exports.rows=l;var u=4;exports.cols=u;var p=l-1;exports.quantityRows=p;var m=u-1;exports.quantityCols=m;var v=(0,e.createCleanBoard)();exports.board=v;var y={emptyCells:l*u,moves:1,dontAddCells:[]};exports.letVariables=y;var x=document.querySelector(".button"),f=document.querySelector(".game-score");exports.score=f;var h=document.querySelector(".message-lose");exports.messageLose=h;var b=document.querySelector(".message-win");exports.messageWin=b;var w=document.querySelector(".message-start");exports.messageStart=w;var g=document.querySelector(".game-field");exports.table=g;var S=[];exports.trs=S;var q=s(document.querySelector("tbody").children);function L(){document.addEventListener("keyup",function(e){"ArrowLeft"===e.code&&(0,t.moveLeft)(),"ArrowRight"===e.code&&(0,t.moveRight)(),"ArrowDown"===e.code&&(0,t.moveDown)(),"ArrowUp"===e.code&&(0,t.moveUp)()}),document.addEventListener("touchstart",o.handleTouchStart,!1),document.addEventListener("touchmove",o.handleTouchMove,!1)}q.forEach(function(e){S.push(s(e.children))}),x.addEventListener("click",function(){"Restart"===x.innerText&&(y.moves=1,y.emptyCells=l*u,f.innerHTML=0,g.style.opacity=1,S.map(function(e){return e.map(function(e){e.removeAttribute("class"),e.innerText="",e.classList.add("field-cell")})}),exports.board=v=(0,e.createCleanBoard)(),(0,r.addNewTile)(),(0,r.addNewTile)()),"Start"===x.innerText&&((0,r.addNewTile)(),(0,r.addNewTile)(),x.innerText="Restart",x.classList.remove("start"),x.classList.add("restart"),w.innerText='Press "Restart" to new game',L()),b.classList.add("hidden"),h.classList.add("hidden"),w.classList.remove("hidden")});
},{"./helpers/createCleanBoard":"qrr2","./helpers/addNewTile":"scz1","./helpers/moves":"gPPn","./helpers/touchHelpers":"PT3Z"}]},{},["KIzB"], null)
//# sourceMappingURL=main.22820d81.js.map